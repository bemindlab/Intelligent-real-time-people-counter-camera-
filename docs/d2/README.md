# MANTA ระบบตรวจจับและวิเคราะห์การเคลื่อนไหวของบุคคล - แผนภาพระบบ

เอกสารนี้ประกอบด้วยแผนภาพระบบ (System Diagram) สำหรับ MANTA ที่สร้างด้วย D2 (https://d2lang.com/)

## วิธีการรวมแผนภาพ

แผนภาพเหล่านี้สร้างด้วย D2 ซึ่งเป็นภาษาสำหรับการสร้างแผนภาพจากโค้ด คุณสามารถแก้ไขไฟล์ .d2 และสร้างแผนภาพใหม่ได้โดยใช้เครื่องมือ d2

### การติดตั้ง D2

```bash
# วิธีการติดตั้ง D2 บน macOS
brew install d2

# วิธีการติดตั้ง D2 บน Linux
curl -fsSL https://d2lang.com/install.sh | sh -

# วิธีการติดตั้ง D2 บน Windows (ผ่าน Scoop)
scoop install d2
```

### การสร้างแผนภาพ

#### วิธีที่ 1: ใช้สคริปต์อัตโนมัติ

เราได้จัดเตรียมสคริปต์สำหรับสร้างแผนภาพ SVG จากไฟล์ D2 ทั้งหมดโดยอัตโนมัติ:

```bash
# รันสคริปต์จากโฟลเดอร์หลักของโปรเจกต์
./scripts/generate_diagrams.sh
```

#### วิธีที่ 2: สร้างด้วยตัวเอง

```bash
# สร้างแผนภาพแต่ละไฟล์
d2 system-architecture.d2 system-architecture.svg
d2 data-flow.d2 data-flow.svg
d2 network-config.d2 network-config.svg
d2 camera-config.d2 camera-config.svg
d2 component-diagram.d2 component-diagram.svg

# หรือสร้างแผนภาพทั้งหมดในครั้งเดียว
for file in *.d2; do d2 "$file" "${file%.d2}.svg"; done
```

## แผนภาพที่มีอยู่

โฟลเดอร์นี้ประกอบด้วยแผนภาพดังต่อไปนี้:

1. **system-architecture.d2**: สถาปัตยกรรมระบบโดยรวมของ MANTA แสดงส่วนประกอบหลักและความสัมพันธ์
2. **data-flow.d2**: การไหลของข้อมูลในระบบ ตั้งแต่การรับภาพจากกล้องไปจนถึงการวิเคราะห์และการจัดเก็บ
3. **network-config.d2**: การกำหนดค่าเครือข่ายและการเชื่อมต่อ รวมถึง WiFi Direct และ WebCam Protocol
4. **camera-config.d2**: การกำหนดค่ากล้องและการจัดเรียงองค์ประกอบ และระบบการกำหนดค่าระยะไกล
5. **component-diagram.d2**: แผนภาพแสดงความสัมพันธ์ระหว่างคอมโพเนนต์ต่างๆ ในโค้ด เช่น คลาส โมดูล และไฟล์การกำหนดค่า

หลังจากการสร้าง SVG ด้วยเครื่องมือ D2 คุณจะได้ไฟล์ SVG ที่เกี่ยวข้องสำหรับแต่ละแผนภาพ ซึ่งสามารถดูได้ในเบราว์เซอร์หรือแทรกในเอกสาร

## วิธีการแก้ไขแผนภาพ

1. แก้ไขไฟล์ .d2 ที่ต้องการด้วยตัวแก้ไขข้อความ
2. สร้างแผนภาพใหม่โดยใช้คำสั่ง d2
3. ตรวจสอบผลลัพธ์ที่ได้ในไฟล์ .svg

## เครื่องมือออนไลน์

คุณสามารถใช้เครื่องมือออนไลน์ของ D2 เพื่อแก้ไขและแสดงตัวอย่างแผนภาพได้ที่:
https://play.d2lang.com