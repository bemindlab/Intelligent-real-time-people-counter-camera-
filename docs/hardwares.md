# อุปกรณ์ฮาร์ดแวร์สำหรับระบบ MANTA

เอกสารนี้อธิบายถึงอุปกรณ์ฮาร์ดแวร์ที่แนะนำและรองรับสำหรับระบบ MANTA รวมถึงข้อมูลการติดตั้งและการเชื่อมต่อ

## ส่วนประกอบหลัก

### คอมพิวเตอร์

#### Raspberry Pi (แนะนำ)

| รุ่น | CPU | RAM | จุดเด่น | ข้อจำกัด | ราคาโดยประมาณ (บาท) |
|-----|-----|-----|---------|----------|---------------------|
| **Raspberry Pi 5** | Broadcom BCM2712 (2.4GHz quad-core) | 4GB/8GB | ประสิทธิภาพสูง, NPU, รองรับคุณสมบัติขั้นสูง | ราคาสูงกว่า | 4,500 - 6,500 |
| **Raspberry Pi 4** | Broadcom BCM2711 (1.8GHz quad-core) | 2GB/4GB/8GB | ใช้งานได้ดี, มีขนาดเล็ก | ประสิทธิภาพจำกัด | 3,000 - 4,500 |

**แนะนำ**: Raspberry Pi 5 พร้อม RAM 8GB สำหรับการใช้งานที่ดีที่สุด หรือ Raspberry Pi 4 พร้อม RAM 4GB สำหรับการใช้งานทั่วไป

#### คอมพิวเตอร์ขนาดเล็กทางเลือก

| รุ่น | CPU | RAM | จุดเด่น | ข้อจำกัด | ราคาโดยประมาณ (บาท) |
|-----|-----|-----|---------|----------|---------------------|
| **Orange Pi 5 Plus** | Rockchip RK3588 (8-core) | 4GB/8GB/16GB | NPU ประสิทธิภาพสูง, พอร์ตจำนวนมาก | การสนับสนุนกล้องต่ำกว่า | 4,500 - 7,500 |
| **NVIDIA Jetson Nano** | Quad-core ARM A57 (1.43 GHz) | 4GB | GPU สำหรับ AI, ประสิทธิภาพสูง | ราคาสูง, ซับซ้อนกว่า | 8,000 - 10,000 |

### กล้อง

#### กล้อง Raspberry Pi

| รุ่น | ความละเอียด | จุดเด่น | ข้อจำกัด | ราคาโดยประมาณ (บาท) |
|-----|------------|---------|----------|---------------------|
| **Raspberry Pi Camera Module 3** | 12MP | คุณภาพสูง, โฟกัสอัตโนมัติ, มุมมองกว้าง | - | 2,000 - 2,500 |
| **Raspberry Pi Camera Module 2** | 8MP | ราคาถูกกว่า, เหมาะสำหรับงานทั่วไป | โฟกัสคงที่ | 1,200 - 1,500 |
| **Raspberry Pi HQ Camera** | 12.3MP | คุณภาพสูงมาก, สามารถเปลี่ยนเลนส์ได้ | ราคาสูง, ต้องซื้อเลนส์แยก | 2,500 - 3,500 (ไม่รวมเลนส์) |

**แนะนำ**: Raspberry Pi Camera Module 3 หรือ Raspberry Pi HQ Camera สำหรับการใช้งานที่ต้องการคุณภาพสูง

#### เลนส์สำหรับ Raspberry Pi HQ Camera

| ประเภท | ระยะโฟกัส | ข้อดี | ราคาโดยประมาณ (บาท) |
|--------|-----------|------|---------------------|
| **มุมกว้าง** | 6mm | พื้นที่ครอบคลุมกว้าง, เหมาะสำหรับห้องเล็ก | 1,500 - 2,000 |
| **มาตรฐาน** | 16mm | สมดุลระหว่างพื้นที่ครอบคลุมและรายละเอียด | 1,800 - 2,500 |
| **ซูม** | 25mm+ | รายละเอียดสูงสำหรับระยะไกล | 2,500 - 4,000 |

#### กล้อง USB ทางเลือก

| รุ่น | ความละเอียด | จุดเด่น | ข้อจำกัด | ราคาโดยประมาณ (บาท) |
|-----|------------|---------|----------|---------------------|
| **Logitech C920** | 1080p | คุณภาพดี, ใช้งานง่าย, มีไมโครโฟน | ใช้ทรัพยากร CPU มากกว่า | 2,500 - 3,500 |
| **IPEVO V4K** | 4K | ความละเอียดสูง, ปรับมุมได้ | ราคาสูง | 3,500 - 4,500 |

### อุปกรณ์เสริม

#### แหล่งจ่ายไฟ

| ประเภท | กำลังไฟ | เหมาะสำหรับ | ราคาโดยประมาณ (บาท) |
|--------|---------|------------|---------------------|
| **อะแดปเตอร์ Raspberry Pi** | 5V/3A | Raspberry Pi 4 (พื้นฐาน) | 500 - 700 |
| **อะแดปเตอร์ Raspberry Pi 5** | 5V/5A | Raspberry Pi 5 | 700 - 900 |
| **แหล่งจ่ายไฟ PoE** | 5V/3A | การติดตั้งระยะไกล | 1,200 - 1,800 |

**คำเตือน**: ใช้แหล่งจ่ายไฟที่มีกำลังเพียงพอเพื่อป้องกันการทำงานที่ไม่เสถียร โดยเฉพาะเมื่อเชื่อมต่ออุปกรณ์เสริมหลายอย่าง

#### การจัดเก็บข้อมูล

| ประเภท | ความจุ | เหมาะสำหรับ | ราคาโดยประมาณ (บาท) |
|--------|--------|------------|---------------------|
| **MicroSD** | 32GB+ (Class 10) | การใช้งานพื้นฐาน | 300 - 600 |
| **USB SSD** | 256GB+ | ความเร็วและความน่าเชื่อถือสูง | 1,500 - 3,000 |
| **M.2 SSD** | 256GB+ | ประสิทธิภาพสูงสุดกับอะแดปเตอร์ | 1,500 - 3,000 (+ ค่าอะแดปเตอร์) |

**แนะนำ**: ใช้ USB SSD สำหรับสภาพแวดล้อมการผลิตเพื่อความเร็วและความน่าเชื่อถือที่ดีกว่า

#### เคสและการจัดการความร้อน

| ประเภท | คุณสมบัติ | ราคาโดยประมาณ (บาท) |
|--------|---------|---------------------|
| **เคสพร้อมพัดลม** | ระบายความร้อนดี, ป้องกันฝุ่น | 600 - 1,200 |
| **เคสกันน้ำ** | IP65/IP67, สำหรับภายนอก | 1,200 - 2,500 |
| **แผงระบายความร้อนแบบแพสซีฟ** | ไม่มีเสียง, ไม่มีชิ้นส่วนเคลื่อนไหว | 300 - 600 |

**แนะนำ**: ใช้เคสพร้อมพัดลมสำหรับการใช้งานในร่ม และเคสกันน้ำสำหรับการใช้งานภายนอก

## การติดตั้งฮาร์ดแวร์

### การติดตั้งกล้อง Raspberry Pi

1. ปิดเครื่อง Raspberry Pi และถอดปลั๊กไฟ
2. ค้นหาพอร์ตกล้อง (CSI) บนบอร์ด Raspberry Pi
3. ยกที่ล็อกพอร์ตขึ้นเบาๆ
4. ใส่สายแพกล้องโดยให้ด้านเงินสีฟ้าหันไปทางพอร์ต USB (Raspberry Pi 4) หรือหันไปทางชิป (Raspberry Pi 5)
5. กดที่ล็อกพอร์ตลงเบาๆ เพื่อยึดสายแพ
6. ติดตั้งกล้องในตำแหน่งที่ต้องการโดยใช้ขายึดหรือตัวยึด

![การติดตั้งกล้อง Raspberry Pi](https://www.raspberrypi.com/documentation/accessories/images/camera-install.gif)

### การติดตั้งบน Raspberry Pi

1. เตรียม MicroSD card ที่มีความจุอย่างน้อย 32GB (Class 10 หรือดีกว่า)
2. ดาวน์โหลดและติดตั้ง Raspberry Pi OS (แนะนำ Raspberry Pi OS Lite สำหรับประสิทธิภาพสูงสุด)
3. เปิดใช้งาน SSH และตั้งค่าเริ่มต้น
4. เชื่อมต่อ Raspberry Pi กับอินเทอร์เน็ตผ่านอีเทอร์เน็ตหรือ Wi-Fi
5. อัปเดตระบบและติดตั้งแพ็คเกจที่จำเป็น
6. ติดตั้ง MANTA โดยทำตามขั้นตอนในเอกสาร README.md

### การตั้งค่าไฟร์วอลล์และเครือข่าย

สำหรับการใช้งานในระบบเครือข่าย:

1. ตั้งค่า IP แบบคงที่สำหรับ Raspberry Pi
   ```bash
   sudo nano /etc/dhcpcd.conf
   ```
   
   เพิ่มบรรทัดต่อไปนี้:
   ```
   interface eth0
   static ip_address=192.168.1.100/24
   static routers=192.168.1.1
   static domain_name_servers=192.168.1.1
   ```

2. เปิดพอร์ตที่จำเป็นในไฟร์วอลล์ (หากใช้งาน n8n หรือการเข้าถึงระยะไกล)
   ```bash
   sudo ufw allow 22          # SSH
   sudo ufw allow 5678        # n8n webhook (หากใช้)
   sudo ufw enable
   ```

## การติดตั้งกล้องแบบทางการ

### การติดตั้งภายในอาคาร

1. **ตำแหน่ง**:
   - ติดตั้งที่ความสูง 2.1-2.4 เมตรจากพื้น
   - หลีกเลี่ยงแสงจ้าโดยตรงจากหน้าต่างหรือแสงไฟ
   - เลือกมุมที่เหมาะสมเพื่อครอบคลุมทางเข้าหรือพื้นที่ที่มีการสัญจร

2. **การเดินสาย**:
   - วางแผนเส้นทางสายไฟและสายเครือข่าย
   - ใช้รางเก็บสายเพื่อความเรียบร้อยและปลอดภัย
   - ตรวจสอบระยะทางจากแหล่งจ่ายไฟและเราเตอร์

3. **การให้พลังงาน**:
   - ใช้อะแดปเตอร์ที่มีกำลังเพียงพอ (5V/3A สำหรับ Pi 4, 5V/5A สำหรับ Pi 5)
   - พิจารณาใช้ PoE (Power over Ethernet) หากระยะทางไกล

### การติดตั้งภายนอกอาคาร

1. **เคสกันน้ำ**:
   - ใช้เคสที่มีระดับการป้องกัน IP65 หรือสูงกว่า
   - คำนึงถึงการระบายความร้อนภายในเคส

2. **การป้องกันกล้อง**:
   - ติดตั้งฝาครอบกันแดดเพื่อป้องกันแสงแดดโดยตรง
   - ตรวจสอบว่าเลนส์ไม่มีหยดน้ำหรือฝุ่น

3. **ความทนทานต่อสภาพอากาศ**:
   - ซีลช่องต่างๆ ด้วยซิลิโคนกันน้ำ
   - ติดตั้งในพื้นที่ที่มีการป้องกันจากฝนและแสงแดดโดยตรง

4. **ความปลอดภัย**:
   - ติดตั้งในตำแหน่งที่เข้าถึงยาก
   - ใช้สกรูและอุปกรณ์ยึดที่แข็งแรง

## อุปกรณ์เครือข่ายที่แนะนำ

### สำหรับการใช้งานขนาดเล็ก (1-5 กล้อง)

- **เราเตอร์**: เราเตอร์ Wi-Fi ทั่วไปที่มี Gigabit Ethernet
- **สวิตช์**: สวิตช์ Gigabit Ethernet 8 พอร์ต
- **การเชื่อมต่อ**: สาย Ethernet CAT6

### สำหรับการใช้งานขนาดกลาง (6-20 กล้อง)

- **เราเตอร์**: เราเตอร์ธุรกิจที่รองรับ VLAN
- **สวิตช์**: สวิตช์ Gigabit PoE 24 พอร์ต
- **เซิร์ฟเวอร์**: เซิร์ฟเวอร์สำหรับฐานข้อมูลส่วนกลาง
- **การสำรองข้อมูล**: ระบบสำรองข้อมูลอัตโนมัติ

## คำแนะนำการปรับแต่งประสิทธิภาพ

1. **การระบายความร้อน**:
   - ใช้พัดลมระบายความร้อนเสมอในการใช้งานต่อเนื่อง
   - ตรวจสอบอุณหภูมิเป็นระยะด้วยคำสั่ง `vcgencmd measure_temp`
   - ขีดจำกัดอุณหภูมิที่ปลอดภัย: ต่ำกว่า 70°C

2. **การปรับความเร็ว GPU**:
   - ใช้การปรับความเร็ว GPU เพื่อประสิทธิภาพที่ดีขึ้น
   - ปรับในไฟล์ `/boot/config.txt`: `gpu_freq=600`

3. **การจัดสรรหน่วยความจำ**:
   - สำหรับการประมวลผลภาพ เพิ่มหน่วยความจำให้กับ GPU
   - ปรับในไฟล์ `/boot/config.txt`: `gpu_mem=256`

## การแก้ไขปัญหาฮาร์ดแวร์

### กล้อง

| ปัญหา | สาเหตุที่เป็นไปได้ | การแก้ไข |
|-------|----------------|---------|
| กล้องไม่ทำงาน | ไม่ได้เปิดใช้งานอินเตอร์เฟซกล้อง | รัน `sudo raspi-config` แล้วเปิดใช้งานกล้อง |
| | สายแพหลวมหรือชำรุด | ตรวจสอบการเชื่อมต่อและเปลี่ยนสายถ้าจำเป็น |
| ภาพมืดหรือเบลอ | แสงไม่เพียงพอหรือโฟกัสไม่ถูกต้อง | ปรับระดับแสงหรือโฟกัสของกล้อง |
| | เลนส์สกปรก | ทำความสะอาดเลนส์ด้วยผ้านุ่มอย่างระมัดระวัง |

### Raspberry Pi

| ปัญหา | สาเหตุที่เป็นไปได้ | การแก้ไข |
|-------|----------------|---------|
| รีสตาร์ทเอง | แหล่งจ่ายไฟไม่เพียงพอ | ใช้แหล่งจ่ายไฟที่มีกำลังสูงขึ้น |
| | ความร้อนสูงเกินไป | ปรับปรุงการระบายความร้อน ตรวจสอบพัดลม |
| ทำงานช้า | SD card ช้า | อัพเกรดเป็น USB SSD |
| | หน่วยความจำเต็ม | ตรวจสอบและล้างพื้นที่จัดเก็บ |

## การเลือกซื้ออุปกรณ์ในประเทศไทย

### ร้านค้าที่แนะนำ

1. **ThaiEasyElec**: จำหน่าย Raspberry Pi และอุปกรณ์เสริมครบวงจร
   - เว็บไซต์: [ThaiEasyElec](https://www.thaieasyelec.com/)
   - ที่อยู่: กรุงเทพฯ

2. **Inex**: ผู้จำหน่ายอุปกรณ์อิเล็กทรอนิกส์สำหรับโครงการ
   - เว็บไซต์: [INEX](https://inex.co.th/)
   - ที่อยู่: กรุงเทพฯ

3. **Arduitronics**: อุปกรณ์ Arduino, Raspberry Pi และเซนเซอร์
   - เว็บไซต์: [Arduitronics](https://www.arduitronics.com/)
   - ที่อยู่: กรุงเทพฯ

### คุณสมบัติขั้นต่ำที่แนะนำ

| อุปกรณ์ | คุณสมบัติขั้นต่ำ | ราคาโดยประมาณ (บาท) |
|--------|---------------|---------------------|
| คอมพิวเตอร์ | Raspberry Pi 4 (4GB RAM) | 3,500 - 4,500 |
| กล้อง | Raspberry Pi Camera Module 2 (8MP) | 1,200 - 1,500 |
| แหล่งจ่ายไฟ | 5V/3A | 500 - 700 |
| การจัดเก็บข้อมูล | MicroSD 32GB Class 10 | 300 - 500 |
| เคส | เคสพร้อมพัดลม | 600 - 800 |

**ราคารวมโดยประมาณ: 6,100 - 8,000 บาท**

## ข้อควรพิจารณาด้านความเป็นส่วนตัวและความปลอดภัย

1. **ความเป็นส่วนตัว**:
   - ติดตั้งป้ายแจ้งเตือนในพื้นที่ที่มีการใช้กล้อง
   - เคารพกฎหมายความเป็นส่วนตัวและการเฝ้าระวังในประเทศไทย
   - พิจารณาการปิดบังพื้นที่ส่วนตัว (เช่น ห้องน้ำ) ในซอฟต์แวร์

2. **ความปลอดภัย**:
   - เปลี่ยนรหัสผ่านเริ่มต้นของ Raspberry Pi
   - เข้ารหัสข้อมูลที่จัดเก็บและส่ง
   - อัปเดตซอฟต์แวร์อย่างสม่ำเสมอ